---
layout: post
title: "[Web] 웹팩(WebPack)이란?"
# date: 2021-12-10 12:34:43 +0900
categories: Web
---

## 웹팩(WebPack)의 등장 배경
### 1. 페이지 로딩 속도 저하
![image](https://user-images.githubusercontent.com/28949166/161072492-8ff80722-844e-4c65-b0da-26550753eff2.png)
웹 사이트를 개발할 때 JS, CSS, IMG 등 수많은 리소스 파일이 생겨납니다.  

위 사진은 GitHub 페이지를 로딩했을 때 다운로드 된 파일입니다.
Type 을 보면 script, stylesheet, jpeg 등 다양한 파일이 있습니다. 완성된 웹사이트를 로딩했을 때 많은 파일이 다운로드 된다는 것을 알 수 있습니다. 많은 파일이 다운로드 되는 것의 단점은, 서버와의 접속이 많을수록 웹 로딩은 느려진다는 것입니다.

### 2. JS 모듈화 이슈
![image](https://user-images.githubusercontent.com/28949166/161072628-aefff5d7-39dc-4bf8-8f6f-308a38e72e1e.png)
위 코드는 일반적인 방식인 태그로 자바스크립트를 모듈화하는 예제입니다.  
이렇게 사용하면 여러 개의 파일을 로딩하더라도 같은 스코프를 공유하기 때문에 전역 변수의 충돌이 발생할 수 있습니다.  
그리고 라이브러리 로딩 순서에 따른 이슈, 복잡도에 따른 관리 문제도 생길 수 있습니다.

## Bundler 등장
![image](https://user-images.githubusercontent.com/28949166/161072726-f7863397-2633-4294-b881-3f0a56e217b2.png)

위와 같은 두 문제를 해결하기 위해 등장한 도구가 바로 번들러입니다.

> 번들러란 필요한 의존성을 추적하여 해당하는 의존성들을 그룹핑 해주는 도구입니다.

이러한 번들러 중 가장 많이 사용되는 도구가 바로 웹팩입니다.

### Bundler의 장점
![image](https://user-images.githubusercontent.com/28949166/161072844-f4e6c4ab-4897-46e1-9aaa-e9b2d4360137.png)

웹팩의 공식 사이트에 있는 사진입니다. 이렇게 애플리케이션을 구성하는 몇십, 몇백 개의 자원들을 하나의 파일로 병합 및 압축해 주는 동작을 모듈 번들링이라고 합니다.

> 이처럼 번들러를 사용하면 여러 개의 파일을 하나로 묶어주기 때문에 네트워크 접속의 부담을 줄여 더 빠른 서비스를 제공할 수 있습니다.  
또한, Module 을 사용하여 매우 복잡하고 긴 코드를 작성할 때 사용 용도에 따라 파일 단위로 구분한 뒤, 다른 파일에서 해당 클래스나 함수가 필요할 때 가져와서 사용할 수 있도록 해줍니다.  
> 외부 라이브러리의 의존성도 쉽게 관리할 수 있습니다.

## 웹팩의 4가지 주요 속성
1. entry
> entry 속성은 웹팩에서 웹 자원을 변환하는 데 필요한 진입점이자 자바스크립트 파일 경로입니다.

entry 속성에서 번들링하고 싶은 파일들을 선언합니다. 여기에 지정된 파일은 웹 애플리케이션의 전반적인 구조와 내용이 담겨 있어야 합니다. 왜냐하면 웹팩이 entry 속성에 지정된 파일을 가지고 웹 애플리케이션에서 사용되는 모듈들의 연관 관계를 이해하고 분석하기 때문입니다.  
웹팩은 엔트리를 통해서 필요한 모듈들을 로딩하고, 하나의 파일로 묶는 과정을 진행합니다.

2. output
> output 속성은 웹팩을 돌리고 난 결과물의 파일 경로를 의미합니다.

번들된 결과물을 처리할 위치를 output에 기록합니다.

3. loader
> 웹팩이 웹 애플리케이션을 해석할 때 JS 파일이 아닌 HTML, CSS, IMG, 폰트 등을 변환할 수 있도록 도와주는 속성입니다.

웹팩은 모든 파일을 모듈로 관리하지만 JS 만 알고 있어서 다른 파일들을 웹팩이 이해할 수 있도록 변경해주는 것이 로더의 역할입니다.

4. plugin
> 웹팩의 기본적인 동작에 추가적인 기능을 제공하는 속성입니다.

로더랑 비교하면 로더는 파일을 해석하고 변환하는 과정에 해당하고 플러그인은 해당 결과물의 형태를 바꾸는 과정에 해당합니다.

### entry와 output
- module
![image](https://user-images.githubusercontent.com/28949166/161073547-3d9196c6-ff0b-49f6-a03a-4e1b98409907.png)
> 웹팩은 JS 파일과 IMG 파일 등 모두 모듈로 인식합니다.

그래서 JS 코드에서 import 구문을 사용해서 IMG 와 CSS 파일을 가져올 수 있는 것입니다.  
모듈을 지원하지 않는 브라우저에서도 웹팩을 사용하면 모듈을 적용할 수 있습니다.  
위에서 본 사진을 기준으로 왼쪽 위 .js 파일을 entry 라고 합니다. entry를 기준으로 모든 모듈을 찾은 후 하나의 코드로 만들어 줍니다.  
따라서 오른쪽 그림을 보면 하나의 .js 파일이 생성된 것을 볼 수 있습니다.  

이렇게 만들어진 결과물을 output 이라고 합니다.

## 이외의 webPack 실습은 아래의 참고자료를 참고 부탁드립니다!

## 참고자료 출처
- [[Webpack] Webpack은 처음이라 :: 개념부터 활용 예시까지](https://mnxmnz.github.io/webpack/what-is-webpack/){:target="\_blank"}
